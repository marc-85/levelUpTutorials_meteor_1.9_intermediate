"use strict";

var _SimpleSchema = require("./SimpleSchema");

var _expect = _interopRequireDefault(require("expect"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable func-names, prefer-arrow-callback */
describe('SimpleSchema - Extend Schema Definition', function () {
  it('throws an error when the schema definition includes an unrecognized key', function () {
    (0, _expect.default)(() => {
      const schema = new _SimpleSchema.SimpleSchema({
        // eslint-disable-line no-unused-vars
        name: {
          type: String,
          unique: true
        }
      });
    }).toThrow();
  });
  it('does not throw an error when the schema definition includes a registered key', function () {
    _SimpleSchema.SimpleSchema.extendOptions({
      unique: true
    });

    (0, _expect.default)(() => {
      const schema = new _SimpleSchema.SimpleSchema({
        // eslint-disable-line no-unused-vars
        name: {
          type: String,
          unique: true
        }
      });
    }).toNotThrow(); // Reset

    _SimpleSchema.schemaDefinitionOptions.splice(_SimpleSchema.schemaDefinitionOptions.indexOf('unique'), 1);
  });
});